// Generated by CoffeeScript 1.7.1
(function() {
  var Person, capitalize;

  capitalize = function(x) {
    return x.charAt(0).toUpperCase() + x.slice(1);
  };

  Person = (function() {
    function Person(rawName, rawValue) {
      var x, _ref, _ref1, _ref2, _ref3, _ref4, _ref5;
      this.rawName = rawName;
      this.rawValue = rawValue;
      if ('number' === typeof this.rawValue.rank) {
        this.rank = this.rawValue.rank;
      }
      this._parseField('net', 'worth');
      this._parseField('last', 'money');
      this._parseField('ytd', 'money');
      this._parseField('last_rel', 'percent');
      this._parseField('ytd_rel', 'percent');
      this.hold = {
        cash: ((_ref = (_ref1 = this.rawValue.hold) != null ? _ref1[0] : void 0) != null ? _ref : 0) / 10000,
        "public": ((_ref2 = (_ref3 = this.rawValue.hold) != null ? _ref3[1] : void 0) != null ? _ref2 : 0) / 10000,
        "private": ((_ref4 = (_ref5 = this.rawValue.hold) != null ? _ref5[2] : void 0) != null ? _ref4 : 0) / 10000
      };
      this.name = ((function() {
        var _i, _len, _ref6, _results;
        _ref6 = this.rawName.split('-');
        _results = [];
        for (_i = 0, _len = _ref6.length; _i < _len; _i++) {
          x = _ref6[_i];
          _results.push(capitalize(x));
        }
        return _results;
      }).call(this)).join(' ');
    }

    Person.prototype._parseField = function(name, type) {
      var value;
      value = this.rawValue[name];
      if ('number' !== typeof value) {
        return this[name] = null;
      } else if (type === 'worth') {
        return this[name] = value * 10000000;
      } else if (type === 'percent') {
        return this[name] = value / 10000;
      } else if (type === 'money') {
        return this[name] = value * 10000;
      }
    };

    return Person;

  })();

  module.exports = Person;

}).call(this);
